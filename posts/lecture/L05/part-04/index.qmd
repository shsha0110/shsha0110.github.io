---
title: "[Causal Inference] 05. Adjustment Criterion (Part 4)"
description: "Conditional Ignorability in Potential Outcome Framework"
author: "유성현"
date: "2026-01-23"
categories: [Causal Inference]
format:
  html:
    toc: true
    number-sections: false
    code-fold: show
    math: true
---

# 1. Introduction

지금까지 우리는 Judea Pearl의 **SCM(Structural Causal Model)** 관점에서 인과 효과를 식별(Identification)하는 과정을 살펴보았습니다. Back-door Criterion부터 시작해, 더 일반화된 Adjustment Criterion, 그리고 유효한 조정 집합(Admissible Set)을 찾는 알고리즘까지 다루었습니다.

이번 마지막 포스트에서는 이 그래프 기반의 접근법이 통계학 및 경제학에서 널리 쓰이는 Rubin의 **Potential Outcome Framework**와 어떻게 연결되는지 설명합니다. 특히, 인과 추론의 핵심 가정인 **Conditional Ignorability**가 그래프 상에서 어떻게 정당화되는지 알아보고, Adjustment Criterion 전체 내용을 요약합니다.

---

# 2. Connecting with Ignorability

Potential Outcome(잠재적 결과) 프레임워크에서 인과 효과를 식별하기 위해 가장 중요하게 사용되는 가정은 **Conditional Ignorability(조건부 무시 가능성)**입니다.

## 2.1. Definition
Conditional Ignorability는 반사실적(Counterfactual) 표기법을 사용하여 다음과 같이 정의됩니다.

$$
Y_{x} \perp\!\!\perp X \mid Z
$$

[cite_start][cite: 723-724, 733]

여기서:
* $Y_{x}$: 처리가 $X=x$로 고정되었을 때의 잠재적 결과 (Potential Outcome)
* $X$: 실제 관찰된 처리 (Treatment)
* $Z$: 공변량 집합 (Covariates)

이 식의 의미는 **"공변량 $Z$를 통제(Conditioning)했을 때, 잠재적 결과 $Y_x$는 처리 $X$의 할당과 독립적이다"**라는 것입니다. 즉, $Z$가 주어지면, 처리를 받은 그룹과 받지 않은 그룹 간에 체계적인 차이(교란 요인에 의한 편향)가 사라져 마치 무작위 할당(Random Assignment)된 것과 같아짐을 의미합니다.

## 2.2. Mathematical Equivalence
이 가정은 SCM의 $do$-calculus 관점에서 다음과 같은 확률적 동치로 표현됩니다.

$$
P(y \mid do(x), z) = P(y \mid x, z)
$$

[cite_start][cite: 729, 734]

이 등식은 **개입(Intervention)** 후의 확률 분포가 **관찰(Observation)** 된 조건부 확률 분포와 같아짐을 보여줍니다. 즉, $Z$가 교란 요인을 모두 차단했다면, 단순히 데이터를 $Z$로 층화하여 $X$와 $Y$의 관계를 보는 것만으로 인과 효과를 계산할 수 있다는 뜻입니다.

## 2.3. The Role of Adjustment Criterion
Potential Outcome 프레임워크에서는 연구자가 "우리는 필요한 모든 교란 요인 $Z$를 측정했다"고 **가정(Assume)**하고 분석을 시작하는 경우가 많습니다.

하지만 **"그 가정이 타당한가?"**, **"어떤 $Z$를 포함해야 이 가정이 성립하는가?"**라는 질문에 대해 Potential Outcome 프레임워크 자체만으로는 답하기 어려울 때가 있습니다.

여기서 **Adjustment Criterion**이 강력한 이론적 도구(Theoretical Tool)가 됩니다.

> [cite_start]"While this is usually 'assumed' to hold in the PO framework, the adjustment criterion provides a **justification** under what conditions such set exists based on a given model of reality." [cite: 735]

즉, 우리가 현실 세계에 대한 모델(Causal Graph)을 그릴 수 있다면, Adjustment Criterion은 **Conditional Ignorability 가정이 성립하기 위한 $Z$의 조건**을 수학적으로 증명해 줍니다. 그래프 상에서 $Z$가 Back-door/Adjustment Criterion을 만족한다면, $Y_x \perp\!\!\perp X | Z$는 가정이 아니라 **정리(Theorem)**로서 성립하게 됩니다.

![Figure 1: The bridge between SCM and PO Frameworks. 그래프(Graph)를 통해 현실을 모델링하면, Adjustment Criterion이 Ignorability 가정을 정당화(Justify)해주고, 이를 통해 통계적 추정(Estimation)이 가능해진다.](./images/scm_po_bridge_diagram.png)

---

# 3. Summary of Adjustment Criterion

이제 Adjustment Criterion 시리즈 전체를 관통하는 핵심 내용을 요약해 보겠습니다.

## 3.1. Why Adjustment?
[cite_start]조정(Adjustment)은 데이터 과학 전반에서 인과 효과를 식별하기 위해 가장 널리 사용되는 기법입니다. [cite: 738, 744, 750, 756] 관찰 데이터에서 혼란 변수(Confounder)의 영향을 제거하여 인과적 결론을 도출하는 표준적인 방법론입니다.

## 3.2. Identification Principle
[cite_start]Back-door Criterion과 이를 일반화한 Adjustment Criterion은 어떤 변수 집합 $Z$를 조정해야 타당한지(validity)를 판단하는 **원칙적인 조건(Principled condition)**을 제공합니다. [cite: 739, 745, 751, 757]

* **Back-door Criterion:** $X$의 후손을 제외하고, 모든 Back-door Path를 차단하라.
* **Adjustment Criterion:** $X$의 후손이라도 인과 경로(Proper Causal Path)를 방해하지 않으면 사용 가능하다. (Back-door의 Tightness 문제 해결)

## 3.3. Algorithmic Discovery
[cite_start]우리는 그래프와 목표 인과 효과가 주어졌을 때, 유효한 조정 집합(Admissible sets)을 **체계적이고 효율적으로(Systematically and Efficiently)** 찾을 수 있습니다. [cite: 740, 746, 752, 758]

* **Constructive Method:** $Z_0 = An(X \cup Y \cup I) \cap R$ 등의 공식을 통해 존재 여부를 즉시 확인 가능.
* **Polynomial Delay Algorithm:** 가능한 모든 유효 집합을 합리적인 시간 복잡도 내에서 나열 가능.

## 3.4. From Identification to Estimation
식별(Identification)은 인과 추론의 첫 단계일 뿐입니다. [cite_start]유효한 조정 집합 $Z$를 찾았다면(Identification 단계 완료), 이제 유한한 샘플(Finite samples)로부터 목표 효과를 계산하는 **추정(Estimation)** 단계로 넘어가야 합니다. [cite: 741, 747, 753, 759]

대표적인 추정 기법은 다음과 같습니다:
* **IPW (Inverse Probability Weighting):** 성향 점수(Propensity Score)를 이용한 가중치 부여.
* **Standardization (G-computation):** 조건부 평균을 모델링하여 전체 평균 계산.
* **Doubly Robust Estimators:** 위 두 방법을 결합하여 강건성 확보.

결국 Adjustment Criterion은 **"무엇을 측정하고 모델링에 포함해야 하는가?"**에 대한 명확한 가이드라인을 제시함으로써, 이후의 통계적 추정이 편향 없이 수행될 수 있는 기반을 마련해 줍니다.

---

# 4. Conclusion

이로써 Adjustment Criterion에 대한 긴 여정을 마칩니다. 우리는 그래프 이론에서 출발하여 알고리즘을 거쳐, 잠재적 결과(Potential Outcome)와의 연결고리까지 확인했습니다.

이 시리즈의 핵심 메시지는 다음과 같습니다:
**"데이터만으로는 인과관계를 말할 수 없다. 하지만 현실에 대한 가정(Graph)이 있다면, 우리는 수학적으로 올바른 통제 변수를 찾아낼 수 있다."**

다음 시리즈에서는 식별된 인과 효과를 실제로 계산하는 **추정(Estimation)** 방법론에 대해 더 깊이 다뤄보도록 하겠습니다.

---

### 누락 방지 검증 (Missing Content Check)

강의 자료(PDF 0504 파일)의 내용을 기반으로 아래 항목들이 포함되었는지 확인합니다.

* [x] **Conditional Ignorability 정의:** $Y_x \perp\!\!\perp X | [cite_start]Z$ 표기 및 의미 설명 [cite: 723-724, 733]
* [cite_start][x] **Counterfactual Notation과 SCM의 연결:** $P(y|do(x),z) = P(y|x,z)$ 등식 [cite: 729, 734]
* [cite_start][x] **Adjustment Criterion의 역할:** PO 프레임워크의 가정을 그래프 모델로 정당화(Justification)함 [cite: 735]
* [cite_start][x] **Summary - Popularity:** Adjustment의 보편성 [cite: 738]
* [cite_start][x] **Summary - Validity:** Back-door/Adjustment Criterion의 역할 [cite: 739]
* [cite_start][x] **Summary - Algorithm:** 체계적인 탐색 가능성 [cite: 740]
* [cite_start][x] **Summary - Estimation:** IPW 등 추정 기법과의 연계 [cite: 741]

**Note:** 제공된 PDF의 모든 핵심 내용(페이지 1-8)이 본 포스트에 반영되었습니다.